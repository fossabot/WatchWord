<div class="ui inverted segment" *ngIf="mode == 1 || mode == 2">
    <form novalidate #form="ngForm" class="ui inverted form">

        <div>
            <label>Name:</label>
            <input placeholder="Name" type="text" required [(ngModel)]="material.name" name="name" #name="ngModel" />

            <div *ngIf="(formSubmited || name.dirty) && name.invalid">
                <ul *ngFor="let error of validationErrors(name)">
                    <li>{{error}}</li>
                </ul>
            </div>
        </div>

        <div>
            <label>Description:</label>
            <input placeholder="Description" type="text" required [(ngModel)]="material.description" name="description" #description="ngModel" />

            <div *ngIf="(formSubmited || description.dirty) && description.invalid">
                <ul *ngFor="let error of validationErrors(description)">
                    <li>{{error}}</li>
                </ul>
            </div>
        </div>

        <div class="two fields">
            <div id="material-files" class="field">
                <label>Subtitles:</label>
                <subtitles-input [(ngModel)]="material.words" name="subtitles" #subtitles="ngModel" required></subtitles-input>

                <div *ngIf="(formSubmited || subtitles.dirty) && subtitles.invalid">
                    <ul *ngFor="let error of validationErrors(subtitles)">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>

            <div class="field">
                <label>Image:</label>
                <image-input name="image" mimeTypes="image/jpeg;image/png" [(ngModel)]="material.image" #image="ngModel" required></image-input>

                <div *ngIf="(formSubmited || image.dirty) && image.invalid">
                    <ul *ngFor="let error of validationErrors(image)">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="two fields">
            <div class="field">
                <input class="ui inverted basic button" type="button" value="Save" (click)="saveMaterial(form)" />
                <input *ngIf="mode == 1" class="ui inverted red basic button" type="button" value="Cancel" (click)="onRouteChanged(material.id)" />
            </div>
        </div>
    </form>
</div>

<div *ngIf="serverErrors.length > 0">
    <div *ngFor="let error of serverErrors">
        {{error}}
    </div>
</div>

<div class="ui relaxed divided items">
    <div class="item">
        <div *ngIf="material.image" class="ui image">
            <img [src]="material.image" />
        </div>
        <div class="content">
            <div id="material-name" class="header">{{material.name}}</div>
            <div id="material-description">{{material.description}}</div>
            <div id="material-edit-buttons">
                <button *ngIf="mode == 0" class="ui secondary mini button" type="button" (click)="editMaterial()">Edit</button>
                <button *ngIf="mode == 0" class="ui secondary mini button" type="button" (click)="deleteMaterial()">Delete</button>
            </div>
        </div>
    </div>
</div>

<div *ngIf="material.words && material.words.length !== 0">
    <span *ngFor="let word of material.words">
        {{word.theWord}}
    </span>
</div>
